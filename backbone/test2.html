<!DOCTYPE HTML>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>Learning About Backbone.js Views</title>
  <style type="text/css">
    #container {
        padding: 20px;
        border: 1px solid #333;
        width: 400px;
    }
    #list-template{
        display: none;
    }
  </style>
</head>
<body>

<div id="container">
    <button>Load</button>
    <ul id="list">
    </ul>
</div>

<div id="list-template">
    <li><a href=""></a></li>
</div>

<script src="../js/vendor/jquery-1.10.1.min.js"></script>
<script src="../js/vendor/underscore-min.js"></script>
<script src="../js/vendor/backbone-min.js"></script>
<script type="text/javascript">

    model = new Backbone.Model({
        data:[
            { text: "Google", href: "http://www.google.com" },
            { text: "Facebook", href: "http://www.facebook.com" },
            { text: "Yahoo!", href: "http://tw.yahoo.com" },
            { text: "Youtube", href: "http://youtube.com" }
        ]
    });

    var View = Backbone.View.extend({
        initialize: function(){
            this.template = $('#list-template').child ren();
        },
        el: '#container',
        events: {
            "click button": "render"
        },
        render: function(){
            var data = this.model.get('data');

            for(var i=0, l=data.length; i < l; i++){
                var li = this.template.clone().find('a').attr('href', data[i].href).text(data[i].text).end();
                this.$el.find('ul').append(li);
            }
        }
    });

    var view = new View({ model: model });

</script>
</body>
</html>